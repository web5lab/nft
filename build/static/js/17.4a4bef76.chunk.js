(this.webpackJsonpgigaland=this.webpackJsonpgigaland||[]).push([[17],{2048:function(e,t,r){"use strict";(function(e){r.d(t,"a",(function(){return K}));var n=r(19),a=r(9),i=r(10),c=r(11),s=r(3),o=r(4),u=r(2),p=r.n(u),f=r(27),h=r.n(f),d=r(1876),l=r(1881),v=r.n(l),b=r(1870),g=r.n(b),w=r(1844),m=r(127),O=r(18),y=r(2049),j=r(375);function k(e){return function(t,r,n,a){return"solana_chainId"===t.method?(r.result=e,a()):n()}}function x(e){return function(t,r,n,a){return"solana_provider_config"===t.method?(r.result=e,a()):n()}}function P(e){var t=e.chainId;return Object(m.k)([k(t),x(e)])}function E(e){var t=e.rpcTarget,r=Object(w.g)({rpcTarget:t});return{networkMiddleware:Object(m.k)([P(e),r]),fetchMiddleware:r}}function C(e){var t=e.getAccounts;return Object(m.f)(function(){var e=Object(c.a)(p.a.mark((function e(r,n,a){var i;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("getAccounts"===r.method){e.next=3;break}return e.abrupt("return",a());case 3:if(t){e.next=5;break}throw new Error("WalletMiddleware - opts.getAccounts not provided");case 5:return e.next=7,t(r);case 7:return i=e.sent,n.result=i,e.abrupt("return",void 0);case 10:case"end":return e.stop()}}),e)})));return function(t,r,n){return e.apply(this,arguments)}}())}function A(e){var t=e.requestAccounts;return Object(m.f)(function(){var e=Object(c.a)(p.a.mark((function e(r,n,a){var i;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("requestAccounts"===r.method){e.next=3;break}return e.abrupt("return",a());case 3:if(t){e.next=5;break}throw new Error("WalletMiddleware - opts.requestAccounts not provided");case 5:return e.next=7,t(r);case 7:return i=e.sent,n.result=i,e.abrupt("return",void 0);case 10:case"end":return e.stop()}}),e)})));return function(t,r,n){return e.apply(this,arguments)}}())}function _(e,t){return Object(m.f)(function(){var r=Object(c.a)(p.a.mark((function r(n,a,i){var c;return p.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(n.method===e){r.next=3;break}return r.abrupt("return",i());case 3:if(t){r.next=5;break}throw new Error("WalletMiddleware - ".concat(e," not provided"));case 5:return r.next=7,t(n);case 7:return c=r.sent,a.result=c,r.abrupt("return",void 0);case 10:case"end":return r.stop()}}),r)})));return function(e,t,n){return r.apply(this,arguments)}}())}function N(e){var t=e.getAccounts,r=e.requestAccounts,n=e.signTransaction,a=e.signAndSendTransaction,i=e.signAllTransactions,c=e.signMessage,s=e.getPrivateKey;return Object(m.k)([A({requestAccounts:r}),C({getAccounts:t}),_("signTransaction",n),_("signAndSendTransaction",a),_("signAllTransactions",i),_("signMessage",c),_("solanaPrivateKey",s)])}function D(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function T(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?D(Object(r),!0).forEach((function(t){h()(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):D(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function S(e){return Object(m.f)(function(){var t=Object(c.a)(p.a.mark((function t(r,n,a){var i;return p.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.request(T({},r));case 2:i=t.sent,n.result=i;case 4:case"end":return t.stop()}}),t)})));return function(e,r,n){return t.apply(this,arguments)}}())}var I=function(e){var t={requestAccounts:function(){var t=Object(c.a)(p.a.mark((function t(){return p.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",e.publicKey?[g.a.encode(e.publicKey.toBytes())]:[]);case 1:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),getAccounts:function(){var t=Object(c.a)(p.a.mark((function t(){return p.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",e.publicKey?[g.a.encode(e.publicKey.toBytes())]:[]);case 1:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),getPrivateKey:function(){var e=Object(c.a)(p.a.mark((function e(){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:throw j.ethErrors.rpc.methodNotSupported();case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),signTransaction:function(){var t=Object(c.a)(p.a.mark((function t(r){var n,a,i;return p.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=g.a.decode(r.params.message),a=d.c.from(n),t.next=4,e.signTransaction(a);case 4:return i=t.sent,t.abrupt("return",i);case 6:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),signMessage:function(){var t=Object(c.a)(p.a.mark((function t(r){var n,a;return p.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.request({method:"signMessage",params:{message:null===(n=r.params)||void 0===n?void 0:n.message}});case 2:return a=t.sent,t.abrupt("return",a);case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),signAndSendTransaction:function(){var t=Object(c.a)(p.a.mark((function t(r){var n,a,i;return p.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=g.a.decode(r.params.message),a=d.c.from(n),t.next=4,e.signAndSendTransaction(a);case 4:return i=t.sent,t.abrupt("return",{signature:i.signature});case 6:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),signAllTransactions:function(){var t=Object(c.a)(p.a.mark((function t(r){var n,a,i,c;return p.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(null!==(n=r.params)&&void 0!==n&&n.message&&null!==(a=r.params)&&void 0!==a&&a.message.length){t.next=2;break}throw j.ethErrors.rpc.invalidParams("message");case 2:return i=r.params.message.map((function(e){var t=g.a.decode(e);return d.c.from(t)})),t.next=5,e.signAllTransactions(i);case 5:return c=t.sent,t.abrupt("return",c);case 7:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()};return t};function q(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function M(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?q(Object(r),!0).forEach((function(t){h()(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):q(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var K=function(e){Object(a.a)(r,e);var t=Object(i.a)(r);function r(e){Object(s.a)(this,r);var n=e.config,a=e.state;return t.call(this,{config:{chainConfig:M(M({},n.chainConfig),{},{chainNamespace:O.f.SOLANA})},state:a})}return Object(o.a)(r,[{key:"switchChain",value:function(){var e=Object(c.a)(p.a.mark((function e(t){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Promise.resolve());case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"setupProvider",value:function(){var e=Object(c.a)(p.a.mark((function e(t){var r,n,a,i,c,s;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=I(t),n=N(r),a=P(this.config.chainConfig),i=S(t),(c=new m.b).push(n),c.push(a),c.push(i),s=Object(w.i)(c),this.updateProviderEngineProxy(s),e.next=12,this.lookupNetwork(t);case 12:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"lookupNetwork",value:function(){var e=Object(c.a)(p.a.mark((function e(t){var r;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=this.config.chainConfig,this.update({chainId:r.chainId}),e.abrupt("return",r.chainId||"");case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),r}(y.a),R=function(t){var r={requestAccounts:function(){var e=Object(c.a)(p.a.mark((function e(){var r;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.request({method:"solana_requestAccounts",params:{}});case 2:return r=e.sent,e.abrupt("return",r);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),getAccounts:function(){var e=Object(c.a)(p.a.mark((function e(){var r;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.request({method:"solana_accounts",params:{}});case 2:return r=e.sent,e.abrupt("return",r);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),getPrivateKey:function(){var e=Object(c.a)(p.a.mark((function e(){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:throw j.ethErrors.rpc.methodNotSupported();case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),signMessage:function(){var e=Object(c.a)(p.a.mark((function e(r){var n,a;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.request({method:"sign_message",params:{data:null===(n=r.params)||void 0===n?void 0:n.message}});case 2:return a=e.sent,e.abrupt("return",a);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),signTransaction:function(){var r=Object(c.a)(p.a.mark((function r(n){var a,i,c,s,o;return p.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(null!==(a=n.params)&&void 0!==a&&a.message){r.next=2;break}throw j.ethErrors.rpc.invalidParams("message");case 2:return i=g.a.decode(n.params.message).toString("hex"),r.next=5,t.request({method:"sign_transaction",params:{message:i}});case 5:return c=r.sent,s=e.from(c,"hex"),o=d.c.from(s),r.abrupt("return",o);case 9:case"end":return r.stop()}}),r)})));return function(e){return r.apply(this,arguments)}}(),signAndSendTransaction:function(){var e=Object(c.a)(p.a.mark((function e(r){var n,a,i;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null!==(n=r.params)&&void 0!==n&&n.message){e.next=2;break}throw j.ethErrors.rpc.invalidParams("message");case 2:return a=g.a.decode(r.params.message).toString("hex"),e.next=5,t.request({method:"send_transaction",params:{message:a}});case 5:return i=e.sent,e.abrupt("return",{signature:i});case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),signAllTransactions:function(){var e=Object(c.a)(p.a.mark((function e(r){var a,i,c,s,o,u,f,h;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null!==(a=r.params)&&void 0!==a&&a.message&&null!==(i=r.params)&&void 0!==i&&i.message.length){e.next=2;break}throw j.ethErrors.rpc.invalidParams("message");case 2:c=[],s=Object(n.a)(r.params.message);try{for(s.s();!(o=s.n()).done;)u=o.value,f=g.a.decode(u).toString("hex"),c.push(f)}catch(p){s.e(p)}finally{s.f()}return e.next=7,t.request({method:"sign_all_transactions",params:{message:c}});case 7:return h=e.sent,e.abrupt("return",h);case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()};return r};function W(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function z(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?W(Object(r),!0).forEach((function(t){h()(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):W(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}y.a;function L(e){return Y.apply(this,arguments)}function Y(){return Y=Object(c.a)(p.a.mark((function t(r){var a,i,s,o,u,f;return p.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(a=r.privKey,i=r.getProviderEngineProxy,s=function(e){var t=g.a.decode(e);return d.c.from(t)},o=function(){return d.a.fromSecretKey(e.from(a,"hex"))},"string"===typeof a){t.next=5;break}throw O.j.invalidParams("privKey must be a string");case 5:return u=o(),f={requestAccounts:function(){var e=Object(c.a)(p.a.mark((function e(){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",[u.publicKey.toBase58()]);case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),getAccounts:function(){var e=Object(c.a)(p.a.mark((function e(){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",[u.publicKey.toBase58()]);case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),getPrivateKey:function(){var e=Object(c.a)(p.a.mark((function e(){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",a);case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),signTransaction:function(){var e=Object(c.a)(p.a.mark((function e(t){var r,n,a;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null!==(r=t.params)&&void 0!==r&&r.message){e.next=2;break}throw j.ethErrors.rpc.invalidParams("message");case 2:return(a=s(null===(n=t.params)||void 0===n?void 0:n.message)).partialSign(u),e.abrupt("return",a);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),signMessage:function(){var e=Object(c.a)(p.a.mark((function e(t){var r,n;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null!==(r=t.params)&&void 0!==r&&r.message){e.next=2;break}throw j.ethErrors.rpc.invalidParams("message");case 2:return n=v.a.sign.detached(t.params.message,u.secretKey),e.abrupt("return",n);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),signAndSendTransaction:function(){var e=Object(c.a)(p.a.mark((function e(t){var r,n,a,c,o;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null!==(r=t.params)&&void 0!==r&&r.message){e.next=2;break}throw j.ethErrors.rpc.invalidParams("message");case 2:if(a=i()){e.next=5;break}throw j.ethErrors.provider.custom({message:"Provider is not initialized",code:4902});case 5:return(c=s(null===(n=t.params)||void 0===n?void 0:n.message)).sign(u),e.next=9,a.request({method:"sendTransaction",params:[g.a.encode(c.serialize())]});case 9:return o=e.sent,e.abrupt("return",{signature:o});case 11:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),signAllTransactions:function(){var e=Object(c.a)(p.a.mark((function e(t){var r,a,i,c,o,f,h,d;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null!==(r=t.params)&&void 0!==r&&r.message&&null!==(a=t.params)&&void 0!==a&&a.message.length){e.next=2;break}throw j.ethErrors.rpc.invalidParams("message");case 2:i=[],c=Object(n.a)((null===(h=t.params)||void 0===h?void 0:h.message)||[]);try{for(c.s();!(o=c.n()).done;)f=o.value,(d=s(f)).partialSign(u),i.push(d)}catch(p){c.e(p)}finally{c.f()}return e.abrupt("return",i);case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},t.abrupt("return",f);case 8:case"end":return t.stop()}}),t)}))),Y.apply(this,arguments)}function B(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function H(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?B(Object(r),!0).forEach((function(t){h()(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):B(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var U=function(e){Object(a.a)(r,e);var t=Object(i.a)(r);function r(e){Object(s.a)(this,r);var n=e.config,a=e.state;return t.call(this,{config:{chainConfig:H(H({},n.chainConfig),{},{chainNamespace:O.f.SOLANA})},state:a})}return Object(o.a)(r,[{key:"enable",value:function(){var e=Object(c.a)(p.a.mark((function e(){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.state.privateKey){e.next=2;break}throw j.ethErrors.provider.custom({message:"Private key is not found in state, plz pass it in constructor state param",code:4902});case 2:return e.next=4,this.setupProvider(this.state.privateKey);case 4:return e.abrupt("return",this._providerEngineProxy.request({method:"eth_accounts"}));case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"setupProvider",value:function(){var e=Object(c.a)(p.a.mark((function e(t){var r,n,a,i,c,s;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,L({privKey:t,getProviderEngineProxy:this.getProviderEngineProxy.bind(this)});case 2:return r=e.sent,n=N(r),a=new m.b,i=E(this.config.chainConfig),c=i.networkMiddleware,a.push(this.getChainSwitchMiddleware()),a.push(this.getAccountMiddleware()),a.push(n),a.push(c),s=Object(w.i)(a),this.updateProviderEngineProxy(s),e.next=14,this.lookupNetwork();case 14:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"updateAccount",value:function(){var e=Object(c.a)(p.a.mark((function e(t){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this._providerEngineProxy){e.next=2;break}throw j.ethErrors.provider.custom({message:"Provider is not initialized",code:4902});case 2:return e.next=4,this._providerEngineProxy.request({method:"solanaPrivateKey"});case 4:if(e.sent===t.privateKey){e.next=14;break}return e.next=8,this.setupProvider(t.privateKey);case 8:return e.t0=this._providerEngineProxy,e.next=11,this._providerEngineProxy.request({method:"requestAccounts"});case 11:e.t1=e.sent,e.t2={accounts:e.t1},e.t0.emit.call(e.t0,"accountsChanged",e.t2);case 14:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"switchChain",value:function(){var e=Object(c.a)(p.a.mark((function e(t){var r,n;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this._providerEngineProxy){e.next=2;break}throw j.ethErrors.provider.custom({message:"Provider is not initialized",code:4902});case 2:return r=this.getChainConfig(t.chainId),this.update({chainId:"loading"}),this.configure({chainConfig:r}),e.next=7,this._providerEngineProxy.request({method:"solanaPrivateKey"});case 7:return n=e.sent,e.next=10,this.setupProvider(n);case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"lookupNetwork",value:function(){var e=Object(c.a)(p.a.mark((function e(){var t,r;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this._providerEngineProxy){e.next=2;break}throw j.ethErrors.provider.custom({message:"Provider is not initialized",code:4902});case 2:return e.next=4,this._providerEngineProxy.request({method:"getHealth",params:[]});case 4:if(t=e.sent,r=this.config.chainConfig,"ok"===t){e.next=8;break}throw O.j.rpcConnectionError("Failed to lookup network for following rpc target: ".concat(r.rpcTarget));case 8:return this.update({chainId:r.chainId}),this.state.chainId!==r.chainId&&(this.provider.emit("chainChanged",this.state.chainId),this.provider.emit("connect",{chainId:this.state.chainId})),e.abrupt("return",this.state.chainId);case 11:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"getChainSwitchMiddleware",value:function(){var e=this,t={addNewChainConfig:function(){var t=Object(c.a)(p.a.mark((function t(r){var n,a,i,c,s,o;return p.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(r.params){t.next=2;break}throw j.ethErrors.rpc.invalidParams("Missing request params");case 2:if(n=r.params,a=n.chainId,i=n.chainName,c=n.rpcUrls,s=n.blockExplorerUrls,o=n.nativeCurrency,a){t.next=5;break}throw j.ethErrors.rpc.invalidParams("Missing chainId in chainParams");case 5:if(c&&0!==c.length){t.next=7;break}throw j.ethErrors.rpc.invalidParams("Missing rpcUrls in chainParams");case 7:if(o){t.next=9;break}throw j.ethErrors.rpc.invalidParams("Missing nativeCurrency in chainParams");case 9:e.addChain({chainNamespace:O.f.SOLANA,chainId:a,ticker:(null===o||void 0===o?void 0:o.symbol)||"SOL",tickerName:(null===o||void 0===o?void 0:o.name)||"Solana",displayName:i,rpcTarget:c[0],blockExplorer:(null===s||void 0===s?void 0:s[0])||""});case 10:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),switchSolanaChain:function(){var t=Object(c.a)(p.a.mark((function t(r){return p.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(r.params){t.next=2;break}throw j.ethErrors.rpc.invalidParams("Missing request params");case 2:if(r.params.chainId){t.next=4;break}throw j.ethErrors.rpc.invalidParams("Missing chainId");case 4:return t.next=6,e.switchChain(r.params);case 6:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()};return function(e){var t=e.addNewChainConfig,r=e.switchSolanaChain;return Object(m.k)([_("addSolanaChain",t),_("switchSolanaChain",r)])}(t)}},{key:"getAccountMiddleware",value:function(){var e=this,t={updatePrivatekey:function(){var t=Object(c.a)(p.a.mark((function t(r){var n;return p.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(r.params){t.next=2;break}throw j.ethErrors.rpc.invalidParams("Missing request params");case 2:if(r.params.privateKey){t.next=4;break}throw j.ethErrors.rpc.invalidParams("Missing privateKey");case 4:return n=r.params.privateKey,t.next=7,e.updateAccount({privateKey:n});case 7:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()};return function(e){var t=e.updatePrivatekey;return Object(m.k)([_("updateAccount",t)])}(t)}}]),r}(y.a);h()(U,"getProviderInstance",function(){var e=Object(c.a)(p.a.mark((function e(t){var r;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=new U({config:{chainConfig:t.chainConfig}}),e.next=3,r.setupProvider(t.privKey);case 3:return e.abrupt("return",r);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())}).call(this,r(40).Buffer)},2049:function(e,t,r){"use strict";r.d(t,"a",(function(){return O}));var n=r(41),a=r(3),i=r(4),c=r(13),s=r(9),o=r(10),u=r(26),p=r(24),f=r(27),h=r.n(f),d=r(1844),l=r(18),v=r(375),b=r(883),g=r.n(b);function w(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function m(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?w(Object(r),!0).forEach((function(t){h()(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):w(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var O=function(e){Object(s.a)(r,e);var t=Object(o.a)(r);function r(e){var i,s;Object(a.a)(this,r);var o=e.config,f=e.state;if(s=t.call(this,{config:o,state:f}),h()(Object(c.a)(s),"_providerEngineProxy",null),!o.chainConfig)throw l.j.invalidProviderConfigError("Please provide chainConfig");if(!o.chainConfig.chainId)throw l.j.invalidProviderConfigError("Please provide chainId inside chainConfig");if(!o.chainConfig.rpcTarget)throw l.j.invalidProviderConfigError("Please provide rpcTarget inside chainConfig");return s.defaultState={chainId:"loading"},s.defaultConfig={chainConfig:o.chainConfig,networks:Object(n.a)({},o.chainConfig.chainId,o.chainConfig)},Object(u.a)((i=Object(c.a)(s),Object(p.a)(r.prototype)),"initialize",i).call(i),s}return Object(i.a)(r,[{key:"provider",get:function(){return this._providerEngineProxy},set:function(e){throw new Error("Method not implemented.")}},{key:"addChain",value:function(e){if(!e.chainId)throw v.ethErrors.rpc.invalidParams("chainId is required");if(!e.rpcTarget)throw v.ethErrors.rpc.invalidParams("chainId is required");this.configure({networks:m(m({},this.config.networks),{},Object(n.a)({},e.chainId,e))})}},{key:"getChainConfig",value:function(e){var t,r=null===(t=this.config.networks)||void 0===t?void 0:t[e];if(!r)throw v.ethErrors.rpc.invalidRequest("Chain ".concat(e," is not supported, please add chainConfig for it"));return r}},{key:"getProviderEngineProxy",value:function(){return this._providerEngineProxy}},{key:"updateProviderEngineProxy",value:function(e){this._providerEngineProxy?this._providerEngineProxy.setTarget(e):this._providerEngineProxy=Object(d.f)(e)}}]),r}(d.a);g()()},2154:function(e,t,r){"use strict";r.r(t),r.d(t,"PhantomAdapter",(function(){return m}));var n=r(3),a=r(4),i=r(13),c=r(26),s=r(24),o=r(9),u=r(10),p=r(11),f=r(2),h=r.n(f),d=r(27),l=r.n(d),v=r(18),b=r(2048);function g(e,t,r){return new Promise((function(n,a){r>0?setTimeout(Object(p.a)(h.a.mark((function i(){var c;return h.a.wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.next=2,e();case 2:(c=i.sent)&&n(c),c||g(e,t,r-1).then((function(e){return n(e),e})).catch((function(e){return a(e)}));case 5:case"end":return i.stop()}}),i)}))),t):n(!1)}))}var w=function(){var e=Object(p.a)(h.a.mark((function e(){var t,r,n=arguments;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=n.length>0&&void 0!==n[0]?n[0]:{interval:1e3,count:3},!("undefined"!==typeof window&&!(null===(t=window.solana)||void 0===t||!t.isPhantom))){e.next=4;break}return e.abrupt("return",window.solana);case 4:return e.next=6,g((function(){var e;return null===(e=window.solana)||void 0===e?void 0:e.isPhantom}),r.interval,r.count);case 6:if(!e.sent){e.next=9;break}return e.abrupt("return",window.solana);case 9:return e.abrupt("return",null);case 10:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),m=function(e){Object(o.a)(r,e);var t=Object(u.a)(r);function r(){var e;Object(n.a)(this,r);var a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return e=t.call(this),l()(Object(i.a)(e),"name",v.i.PHANTOM),l()(Object(i.a)(e),"adapterNamespace",v.c.SOLANA),l()(Object(i.a)(e),"currentChainNamespace",v.f.SOLANA),l()(Object(i.a)(e),"type",v.a.EXTERNAL),l()(Object(i.a)(e),"status",v.d.NOT_READY),l()(Object(i.a)(e),"_wallet",null),l()(Object(i.a)(e),"phantomProvider",null),l()(Object(i.a)(e),"rehydrated",!1),l()(Object(i.a)(e),"_onDisconnect",(function(){e._wallet&&(e._wallet.off("disconnect",e._onDisconnect),e.rehydrated=!1,e.status=e.status===v.d.CONNECTED?v.d.READY:v.d.NOT_READY,e.emit(v.b.DISCONNECTED))})),e.chainConfig=a.chainConfig||null,e}return Object(a.a)(r,[{key:"isWalletConnected",get:function(){var e;return!(null===(e=this._wallet)||void 0===e||!e.isConnected||this.status!==v.d.CONNECTED)}},{key:"provider",get:function(){var e;return(null===(e=this.phantomProvider)||void 0===e?void 0:e.provider)||null},set:function(e){throw new Error("Not implemented")}},{key:"setAdapterSettings",value:function(e){}},{key:"init",value:function(){var e=Object(p.a)(h.a.mark((function e(t){return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Object(c.a)(Object(s.a)(r.prototype),"checkInitializationRequirements",this).call(this),this.chainConfig||(this.chainConfig=Object(v.m)(v.f.SOLANA,"0x1")),e.next=4,w({interval:500,count:3});case 4:if(this._wallet=e.sent,this._wallet){e.next=7;break}throw v.j.notInstalled();case 7:if(this.phantomProvider=new b.a({config:{chainConfig:this.chainConfig}}),this.status=v.d.READY,this.emit(v.b.READY,v.i.PHANTOM),e.prev=10,!t.autoConnect){e.next=15;break}return this.rehydrated=!0,e.next=15,this.connect();case 15:e.next=21;break;case 17:e.prev=17,e.t0=e.catch(10),v.o.error("Failed to connect with cached phantom provider",e.t0),this.emit("ERRORED",e.t0);case 21:case"end":return e.stop()}}),e,this,[[10,17]])})));return function(t){return e.apply(this,arguments)}}()},{key:"connect",value:function(){var e=Object(p.a)(h.a.mark((function e(){var t,n,a=this;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=this,e.prev=1,Object(c.a)(Object(s.a)(r.prototype),"checkConnectionRequirements",this).call(this),this.status=v.d.CONNECTING,this.emit(v.b.CONNECTING,{adapter:v.i.PHANTOM}),this._wallet){e.next=7;break}throw v.j.notInstalled();case 7:if(this._wallet.isConnected){e.next=24;break}return n=this._wallet._handleDisconnect,e.prev=9,e.next=12,new Promise((function(e,r){var i=function(){var t=Object(p.a)(h.a.mark((function t(){return h.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,a.connectWithProvider(a._wallet);case 2:e(a.provider);case 3:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();if(!a._wallet)return r(v.j.notInstalled());a._wallet.once("connect",i),a._wallet._handleDisconnect=function(){r(v.j.windowClosed());for(var e=arguments.length,a=new Array(e),i=0;i<e;i++)a[i]=arguments[i];return n.apply(t._wallet,a)},a._wallet.connect().catch((function(e){r(e)}))}));case 12:e.next=19;break;case 14:if(e.prev=14,e.t0=e.catch(9),!(e.t0 instanceof v.l)){e.next=18;break}throw e.t0;case 18:throw v.k.connectionError(null===e.t0||void 0===e.t0?void 0:e.t0.message);case 19:return e.prev=19,this._wallet._handleDisconnect=n,e.finish(19);case 22:e.next=26;break;case 24:return e.next=26,this.connectWithProvider(this._wallet);case 26:if(this._wallet.publicKey){e.next=28;break}throw v.k.connectionError();case 28:return this._wallet.on("disconnect",this._onDisconnect),e.abrupt("return",this.provider);case 32:throw e.prev=32,e.t1=e.catch(1),this.status=v.d.READY,this.rehydrated=!1,this.emit(v.b.ERRORED,e.t1),e.t1;case 38:case"end":return e.stop()}}),e,this,[[1,32],[9,14,19,22]])})));return function(){return e.apply(this,arguments)}}()},{key:"disconnect",value:function(){var e=Object(p.a)(h.a.mark((function e(){var t,r,n=arguments;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=n.length>0&&void 0!==n[0]?n[0]:{cleanup:!1},this.isWalletConnected){e.next=3;break}throw v.k.notConnectedError("Not connected with wallet");case 3:return e.prev=3,e.next=6,null===(r=this._wallet)||void 0===r?void 0:r.disconnect();case 6:t.cleanup&&(this.status=v.d.NOT_READY,this.phantomProvider=null,this._wallet=null),this.emit(v.b.DISCONNECTED),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(3),this.emit(v.b.ERRORED,v.k.disconnectionError(null===e.t0||void 0===e.t0?void 0:e.t0.message));case 13:case"end":return e.stop()}}),e,this,[[3,10]])})));return function(){return e.apply(this,arguments)}}()},{key:"getUserInfo",value:function(){var e=Object(p.a)(h.a.mark((function e(){return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.isWalletConnected){e.next=2;break}throw v.k.notConnectedError("Not connected with wallet, Please login/connect first");case 2:return e.abrupt("return",{});case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"connectWithProvider",value:function(){var e=Object(p.a)(h.a.mark((function e(t){return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.phantomProvider){e.next=2;break}throw v.k.connectionError("No phantom provider");case 2:return e.next=4,this.phantomProvider.setupProvider(t);case 4:return this.status=v.d.CONNECTED,this.emit(v.b.CONNECTED,{adapter:v.i.PHANTOM,reconnected:this.rehydrated}),e.abrupt("return",this.provider);case 7:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),r}(v.e)}}]);
//# sourceMappingURL=17.4a4bef76.chunk.js.map